/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * PanelCubs.java
 *
 * Created on 16/01/2012, 05:14:48 PM
 */
package frame;

import clases.ClaseGeneral;
import clases.ClaseInformacion;
import clases.ClaseMensaje;
import entidades.Cubs;
import entidades.CubsPK;
import java.math.BigDecimal;
import java.util.ArrayList;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import org.jdesktop.swingx.autocomplete.AutoCompleteDecorator;

/**
 *
 * @author Jhon Lopez
 */
public class PanelCubs extends javax.swing.JPanel {

    private List lista = new ArrayList();
    private ClaseInformacion informacion = new ClaseInformacion();

    /**
     * Creates new form PanelCubs
     */
    public PanelCubs() {
        initComponents();

        fkcontrato.setText(ClaseGeneral.contratos.getContrato());
        metodoMostrar();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        fkcontrato = new javax.swing.JTextField();
        jTextField15 = new javax.swing.JTextField();
        jLabel52 = new javax.swing.JLabel();
        cantidad = new javax.swing.JTextField();
        jTextField13 = new javax.swing.JTextField();
        jLabel48 = new javax.swing.JLabel();
        codigo = new javax.swing.JTextField();
        botonBuscarCodigo = new javax.swing.JButton();
        jTextField20 = new javax.swing.JTextField();
        jPanel3 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        descripcion = new javax.swing.JTextArea();
        jTextField19 = new javax.swing.JTextField();
        jLabel54 = new javax.swing.JLabel();
        valorsiniva = new javax.swing.JTextField();
        jLabel73 = new javax.swing.JLabel();
        jSeparator16 = new javax.swing.JSeparator();
        jLabel51 = new javax.swing.JLabel();
        valor = new javax.swing.JTextField();
        jTextField16 = new javax.swing.JTextField();
        jTextField18 = new javax.swing.JTextField();
        jLabel55 = new javax.swing.JLabel();
        valortotalsiniva = new javax.swing.JTextField();
        jLabel74 = new javax.swing.JLabel();
        jSeparator17 = new javax.swing.JSeparator();
        jLabel56 = new javax.swing.JLabel();
        valortotal = new javax.swing.JTextField();
        jTextField17 = new javax.swing.JTextField();
        jLabel53 = new javax.swing.JLabel();
        certificado = new javax.swing.JTextField();
        jTextField14 = new javax.swing.JTextField();
        jLabel71 = new javax.swing.JLabel();
        jScrollPane = new javax.swing.JScrollPane();
        jTable = new javax.swing.JTable();

        setName("panelCubs"); // NOI18N
        setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT));

        jLabel1.setText("NÚMERO DEL CONTRATO : ");
        jLabel1.setPreferredSize(new java.awt.Dimension(160, 25));
        add(jLabel1);

        fkcontrato.setBackground(ClaseGeneral.verde);
        fkcontrato.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        fkcontrato.setForeground(ClaseGeneral.rojo);
        fkcontrato.setFocusable(false);
        fkcontrato.setMargin(new java.awt.Insets(2, 4, 2, 4));
        fkcontrato.setPreferredSize(new java.awt.Dimension(300, 25));
        add(fkcontrato);

        jTextField15.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField15.setEnabled(false);
        jTextField15.setFocusable(false);
        jTextField15.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jTextField15.setOpaque(false);
        jTextField15.setPreferredSize(new java.awt.Dimension(340, 25));
        add(jTextField15);

        jLabel52.setText("CANTIDAD : ");
        jLabel52.setPreferredSize(new java.awt.Dimension(85, 25));
        add(jLabel52);

        cantidad.setBackground(ClaseGeneral.campo);
        cantidad.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        cantidad.setText("0");
        cantidad.setMargin(new java.awt.Insets(2, 4, 2, 4));
        cantidad.setPreferredSize(new java.awt.Dimension(150, 25));
        cantidad.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                TextFieldFocusGained(evt);
            }
        });
        cantidad.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                TexyFieldKeyReleased(evt);
            }
        });
        add(cantidad);

        jTextField13.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField13.setEnabled(false);
        jTextField13.setFocusable(false);
        jTextField13.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jTextField13.setOpaque(false);
        jTextField13.setPreferredSize(new java.awt.Dimension(565, 25));
        add(jTextField13);

        jLabel48.setText("CÓDIGO CUBS ELEMENTO : ");
        jLabel48.setPreferredSize(new java.awt.Dimension(165, 25));
        add(jLabel48);

        codigo.setBackground(ClaseGeneral.campo);
        codigo.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        codigo.setFocusable(false);
        codigo.setMargin(new java.awt.Insets(2, 4, 2, 4));
        codigo.setPreferredSize(new java.awt.Dimension(610, 25));
        add(codigo);

        botonBuscarCodigo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos24/search.png"))); // NOI18N
        botonBuscarCodigo.setFocusable(false);
        botonBuscarCodigo.setName("botonBuscarCodigo"); // NOI18N
        botonBuscarCodigo.setPreferredSize(new java.awt.Dimension(25, 24));
        botonBuscarCodigo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botonBuscarCodigoActionPerformed(evt);
            }
        });
        add(botonBuscarCodigo);

        jTextField20.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField20.setBorder(null);
        jTextField20.setEnabled(false);
        jTextField20.setFocusable(false);
        jTextField20.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jTextField20.setOpaque(false);
        jTextField20.setPreferredSize(new java.awt.Dimension(810, 10));
        add(jTextField20);

        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "DESCRIPCION ELEMENTO", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 13))); // NOI18N
        jPanel3.setPreferredSize(new java.awt.Dimension(810, 80));
        jPanel3.setLayout(new java.awt.BorderLayout());

        jScrollPane1.setPreferredSize(new java.awt.Dimension(430, 70));

        descripcion.setBackground(ClaseGeneral.campo);
        descripcion.setColumns(20);
        descripcion.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        descripcion.setLineWrap(true);
        descripcion.setRows(5);
        descripcion.setWrapStyleWord(true);
        descripcion.setMargin(new java.awt.Insets(2, 5, 2, 5));
        descripcion.setPreferredSize(new java.awt.Dimension(430, 70));
        jScrollPane1.setViewportView(descripcion);

        jPanel3.add(jScrollPane1, java.awt.BorderLayout.CENTER);

        add(jPanel3);

        jTextField19.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField19.setBorder(null);
        jTextField19.setEnabled(false);
        jTextField19.setFocusable(false);
        jTextField19.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jTextField19.setOpaque(false);
        jTextField19.setPreferredSize(new java.awt.Dimension(810, 10));
        add(jTextField19);

        jLabel54.setText("VALOR UNITARIO SIN IVA : ");
        jLabel54.setPreferredSize(new java.awt.Dimension(175, 25));
        add(jLabel54);

        valorsiniva.setBackground(ClaseGeneral.campo);
        valorsiniva.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        valorsiniva.setText("0");
        valorsiniva.setMargin(new java.awt.Insets(2, 4, 2, 4));
        valorsiniva.setPreferredSize(new java.awt.Dimension(150, 25));
        valorsiniva.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                TextFieldFocusGained(evt);
            }
        });
        valorsiniva.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                TexyFieldKeyReleased(evt);
            }
        });
        add(valorsiniva);

        jLabel73.setPreferredSize(new java.awt.Dimension(20, 25));
        add(jLabel73);

        jSeparator16.setOrientation(javax.swing.SwingConstants.VERTICAL);
        jSeparator16.setPreferredSize(new java.awt.Dimension(20, 25));
        add(jSeparator16);

        jLabel51.setText("VALOR UNITARIO CON IVA : ");
        jLabel51.setPreferredSize(new java.awt.Dimension(180, 25));
        add(jLabel51);

        valor.setBackground(ClaseGeneral.campo);
        valor.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        valor.setText("0");
        valor.setMargin(new java.awt.Insets(2, 4, 2, 4));
        valor.setPreferredSize(new java.awt.Dimension(150, 25));
        valor.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                TextFieldFocusGained(evt);
            }
        });
        valor.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                TexyFieldKeyReleased(evt);
            }
        });
        add(valor);

        jTextField16.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField16.setEnabled(false);
        jTextField16.setFocusable(false);
        jTextField16.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jTextField16.setOpaque(false);
        jTextField16.setPreferredSize(new java.awt.Dimension(85, 25));
        add(jTextField16);

        jTextField18.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField18.setBorder(null);
        jTextField18.setEnabled(false);
        jTextField18.setFocusable(false);
        jTextField18.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jTextField18.setOpaque(false);
        jTextField18.setPreferredSize(new java.awt.Dimension(810, 10));
        add(jTextField18);

        jLabel55.setText("VALOR TOTAL SIN IVA : ");
        jLabel55.setPreferredSize(new java.awt.Dimension(155, 25));
        add(jLabel55);

        valortotalsiniva.setBackground(ClaseGeneral.campo);
        valortotalsiniva.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        valortotalsiniva.setText("0");
        valortotalsiniva.setMargin(new java.awt.Insets(2, 4, 2, 4));
        valortotalsiniva.setName("valortotalsiniva"); // NOI18N
        valortotalsiniva.setPreferredSize(new java.awt.Dimension(150, 25));
        valortotalsiniva.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                TextFieldFocusGained(evt);
            }
        });
        valortotalsiniva.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                TexyFieldKeyReleased(evt);
            }
        });
        add(valortotalsiniva);

        jLabel74.setPreferredSize(new java.awt.Dimension(20, 25));
        add(jLabel74);

        jSeparator17.setOrientation(javax.swing.SwingConstants.VERTICAL);
        jSeparator17.setPreferredSize(new java.awt.Dimension(20, 25));
        add(jSeparator17);

        jLabel56.setText("VALOR TOTAL CON IVA : ");
        jLabel56.setPreferredSize(new java.awt.Dimension(160, 25));
        add(jLabel56);

        valortotal.setBackground(ClaseGeneral.campo);
        valortotal.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        valortotal.setText("0");
        valortotal.setMargin(new java.awt.Insets(2, 4, 2, 4));
        valortotal.setName("valortotal"); // NOI18N
        valortotal.setPreferredSize(new java.awt.Dimension(150, 25));
        valortotal.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                TextFieldFocusGained(evt);
            }
        });
        valortotal.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                TexyFieldKeyReleased(evt);
            }
        });
        add(valortotal);

        jTextField17.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField17.setEnabled(false);
        jTextField17.setFocusable(false);
        jTextField17.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jTextField17.setOpaque(false);
        jTextField17.setPreferredSize(new java.awt.Dimension(125, 25));
        add(jTextField17);

        jLabel53.setText("No. CERTIFICADO REGISTRO DE PRECIOS : ");
        jLabel53.setPreferredSize(new java.awt.Dimension(255, 25));
        add(jLabel53);

        certificado.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        certificado.setText("0");
        certificado.setMargin(new java.awt.Insets(2, 4, 2, 4));
        certificado.setPreferredSize(new java.awt.Dimension(150, 25));
        add(certificado);

        jTextField14.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField14.setEnabled(false);
        jTextField14.setFocusable(false);
        jTextField14.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jTextField14.setOpaque(false);
        jTextField14.setPreferredSize(new java.awt.Dimension(395, 25));
        add(jTextField14);

        jLabel71.setPreferredSize(new java.awt.Dimension(810, 25));
        add(jLabel71);

        jScrollPane.setPreferredSize(new java.awt.Dimension(810, 225));

        jTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null}
            },
            new String [] {
                "CANTIDAD", "CODIGO CUBS", "DESCRIPCION"
            }
        ));
        jTable.setEnabled(false);
        jTable.setFocusable(false);
        jTable.setIntercellSpacing(new java.awt.Dimension(2, 2));
        jTable.setRowHeight(20);
        jTable.setSelectionBackground(ClaseGeneral.campo);
        jScrollPane.setViewportView(jTable);

        add(jScrollPane);
    }// </editor-fold>//GEN-END:initComponents

    private void TextFieldFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_TextFieldFocusGained
        javax.swing.JTextField componente = (javax.swing.JTextField) evt.getComponent();
        componente.selectAll();
        componente.requestFocus();
    }//GEN-LAST:event_TextFieldFocusGained

    private void TexyFieldKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TexyFieldKeyReleased
        try {
            javax.swing.JTextField componente = (javax.swing.JTextField) evt.getComponent();
            long lCantidad = Long.parseLong(cantidad.getText().trim().replace(".", ""));
            long lValorsiniva = Long.parseLong(valorsiniva.getText().trim().replace(".", ""));
            long lValor = Long.parseLong(valor.getText().trim().replace(".", ""));

            if (!componente.getName().equals("valortotalsiniva") && !componente.getName().equals("valortotal")) {
                valortotalsiniva.setText("" + (lCantidad * lValorsiniva));
                valortotal.setText("" + (lCantidad * lValor));
            }
        } catch (Exception ex) {
            Logger.getLogger(PanelCubs.class.getName()).log(Level.SEVERE, null, ex);
        }
        try {
            cantidad.setText(ClaseInformacion.formatoDecimal.format(Long.parseLong(cantidad.getText().trim().replace(".", ""))));
            valor.setText(ClaseInformacion.formatoDecimal.format(Long.parseLong(valor.getText().trim().replace(".", ""))));
            valorsiniva.setText(ClaseInformacion.formatoDecimal.format(Long.parseLong(valorsiniva.getText().trim().replace(".", ""))));
            valortotal.setText(ClaseInformacion.formatoDecimal.format(Long.parseLong(valortotal.getText().trim().replace(".", ""))));
            valortotalsiniva.setText(ClaseInformacion.formatoDecimal.format(Long.parseLong(valortotalsiniva.getText().trim().replace(".", ""))));
        } catch (Exception ex) {
            Logger.getLogger(PanelPolizas.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_TexyFieldKeyReleased

    private void botonBuscarCodigoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_botonBuscarCodigoActionPerformed
        javax.swing.JButton componente = (javax.swing.JButton) evt.getSource();
        String eventoCodigocubs = componente.getName();
        ExternoPanelCodigocubs panelCodigocubs = new ExternoPanelCodigocubs();
        ClaseMensaje.panel(panelCodigocubs);

        if (eventoCodigocubs.equals("botonBuscarCodigo")) {
            if (!panelCodigocubs.codigo.equals("Seleccione")) {
                codigo.setText(panelCodigocubs.codigo);
            }
        }
    }//GEN-LAST:event_botonBuscarCodigoActionPerformed

    public void metodoInsertar() {
        ClaseGeneral.cubs = new Cubs();
        ClaseGeneral.cubsPK = new CubsPK();
        ClaseGeneral.cubsPK.setDescripcion(descripcion.getText().toUpperCase());
        ClaseGeneral.cubsPK.setFkcontrato(fkcontrato.getText());
        ClaseGeneral.cubs.setCubsPK(ClaseGeneral.cubsPK);
        ClaseGeneral.cubs.setCantidad(BigDecimal.valueOf(Long.parseLong("" + cantidad.getText().trim().replace(".", ""))));
        ClaseGeneral.cubs.setCertificado(certificado.getText());
        ClaseGeneral.cubs.setCodigo("" + codigo.getText());
        ClaseGeneral.cubs.setValor(BigDecimal.valueOf(Long.parseLong("" + valor.getText().trim().replace(".", ""))));
        ClaseGeneral.cubs.setValorsiniva(BigDecimal.valueOf(Long.parseLong("" + valorsiniva.getText().trim().replace(".", ""))));
        ClaseGeneral.cubs.setValortotal(BigDecimal.valueOf(Long.parseLong("" + valortotal.getText().trim().replace(".", ""))));
        ClaseGeneral.cubs.setValortotalsiniva(BigDecimal.valueOf(Long.parseLong("" + valortotalsiniva.getText().trim().replace(".", ""))));

        if (ClaseGeneral.controlCubs.verify(ClaseGeneral.cubs)) {
            try {
                ClaseGeneral.controlCubs.create(ClaseGeneral.cubs);
            } catch (Exception ex) {
                Logger.getLogger(PanelCubs.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
    }

    public void metodoConsultar() {
        try {
            descripcion.setText(ClaseGeneral.cubs.getCubsPK().getDescripcion());
            fkcontrato.setText(ClaseGeneral.cubs.getCubsPK().getFkcontrato());
            cantidad.setText("" + ClaseGeneral.cubs.getCantidad());
            certificado.setText(ClaseGeneral.cubs.getCertificado());
            codigo.setText(ClaseGeneral.cubs.getCodigo());
            valor.setText("" + ClaseInformacion.formatoDecimal.format(ClaseGeneral.cubs.getValor()));
            valorsiniva.setText("" + ClaseInformacion.formatoDecimal.format(ClaseGeneral.cubs.getValorsiniva()));
            valortotal.setText("" + ClaseInformacion.formatoDecimal.format(ClaseGeneral.cubs.getValortotal()));
            valortotalsiniva.setText("" + ClaseInformacion.formatoDecimal.format(ClaseGeneral.cubs.getValortotalsiniva()));

            descripcion.setFocusable(false);
            fkcontrato.setFocusable(false);
        } catch (Exception ex) {
            Logger.getLogger(PanelResoluciones.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    public void metodoActualizar() {
        Cubs cubsId = ClaseGeneral.cubs;
        cubsId.setCubsPK(ClaseGeneral.cubs.getCubsPK());

        ClaseGeneral.cubs = new Cubs();
        ClaseGeneral.cubsPK = new CubsPK();
        ClaseGeneral.cubsPK.setDescripcion(descripcion.getText().toUpperCase());
        ClaseGeneral.cubsPK.setFkcontrato(fkcontrato.getText());
        ClaseGeneral.cubs.setCubsPK(ClaseGeneral.cubsPK);
        ClaseGeneral.cubs.setCantidad(BigDecimal.valueOf(Long.parseLong("" + cantidad.getText().trim().replace(".", ""))));
        ClaseGeneral.cubs.setCertificado(certificado.getText());
        ClaseGeneral.cubs.setCodigo("" + codigo.getText());
        ClaseGeneral.cubs.setValor(BigDecimal.valueOf(Long.parseLong("" + valor.getText().trim().replace(".", ""))));
        ClaseGeneral.cubs.setValorsiniva(BigDecimal.valueOf(Long.parseLong("" + valorsiniva.getText().trim().replace(".", ""))));
        ClaseGeneral.cubs.setValortotal(BigDecimal.valueOf(Long.parseLong("" + valortotal.getText().trim().replace(".", ""))));
        ClaseGeneral.cubs.setValortotalsiniva(BigDecimal.valueOf(Long.parseLong("" + valortotalsiniva.getText().trim().replace(".", ""))));

        if (ClaseGeneral.controlCubs.verify(ClaseGeneral.cubs)) {
            try {
                ClaseGeneral.controlCubs.edit(ClaseGeneral.cubs, cubsId);
            } catch (Exception ex) {
                Logger.getLogger(PanelCubs.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
    }

    public void metodoEliminar() {
        try {
            ClaseGeneral.cubsPK = new CubsPK();
            ClaseGeneral.cubsPK.setDescripcion(descripcion.getText());
            ClaseGeneral.cubsPK.setFkcontrato(fkcontrato.getText());

            ClaseGeneral.controlCubs.destroy(ClaseGeneral.cubsPK);
        } catch (Exception ex) {
            Logger.getLogger(PanelCubs.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    public final void metodoMostrar() {
        ClaseGeneral.cubs = new Cubs();
        lista = ClaseGeneral.controlCubs.findAllInCubsByFkcontrato(fkcontrato.getText());

        for (int i = 0; i < 100; i++) {
            jTable.setValueAt("", i, 0);
            jTable.setValueAt("", i, 1);
            jTable.setValueAt("", i, 2);
        }

        int i = 0;
        for (Object lista1 : lista) {
            ClaseGeneral.cubs = (Cubs) lista1;
            jTable.setValueAt("" + ClaseGeneral.cubs.getCantidad(), i, 0);
            jTable.setValueAt("" + ClaseGeneral.cubs.getCodigo(), i, 1);
            jTable.setValueAt("" + ClaseGeneral.cubs.getCubsPK().getDescripcion(), i, 2);
            i++;
        }

        jTable.clearSelection();
        jTable.getColumnModel().getColumn(0).setPreferredWidth(100);
        jTable.getColumnModel().getColumn(1).setPreferredWidth(200);
        jTable.getColumnModel().getColumn(2).setPreferredWidth(510);
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton botonBuscarCodigo;
    private javax.swing.JTextField cantidad;
    private javax.swing.JTextField certificado;
    private javax.swing.JTextField codigo;
    private javax.swing.JTextArea descripcion;
    private javax.swing.JTextField fkcontrato;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel48;
    private javax.swing.JLabel jLabel51;
    private javax.swing.JLabel jLabel52;
    private javax.swing.JLabel jLabel53;
    private javax.swing.JLabel jLabel54;
    private javax.swing.JLabel jLabel55;
    private javax.swing.JLabel jLabel56;
    private javax.swing.JLabel jLabel71;
    private javax.swing.JLabel jLabel73;
    private javax.swing.JLabel jLabel74;
    private javax.swing.JPanel jPanel3;
    public javax.swing.JScrollPane jScrollPane;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JSeparator jSeparator16;
    private javax.swing.JSeparator jSeparator17;
    public javax.swing.JTable jTable;
    private javax.swing.JTextField jTextField13;
    private javax.swing.JTextField jTextField14;
    private javax.swing.JTextField jTextField15;
    private javax.swing.JTextField jTextField16;
    private javax.swing.JTextField jTextField17;
    private javax.swing.JTextField jTextField18;
    private javax.swing.JTextField jTextField19;
    private javax.swing.JTextField jTextField20;
    private javax.swing.JTextField valor;
    private javax.swing.JTextField valorsiniva;
    private javax.swing.JTextField valortotal;
    private javax.swing.JTextField valortotalsiniva;
    // End of variables declaration//GEN-END:variables
}
